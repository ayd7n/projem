
IDO KOZMETİK - ERP SİSTEMİ KULLANIM KILAVUZU
============================================

Bu kılavuz, ERP sisteminin modüllerini, işlevlerini ve kullanım amaçlarını açıklamaktadır.

---

### 1. GİRİŞ VE SİSTEM ERİŞİMİ

#### 1.1. Sisteme Giriş
- **Adres:** http://localhost/projem/
- **Personel Girişi:** `login.php` sayfası üzerinden yapılır.
  - **Kullanıcı Adı:** admin@parfum.com
  - **Şifre:** 12345
- **Müşteri Girişi:** `customer_login.php` sayfası üzerinden yapılır. Müşterilere "Müşteri Yönetimi" panelinden giriş yetkisi verilebilir.

#### 1.2. Ana Panel (`navigation.php`)
Giriş yapıldıktan sonra ulaşılan ana kontrol panelidir. Tüm modüllere buradan kartlar aracılığıyla erişilir.

---

### 2. İNSAN KAYNAKLARI VE İLİŞKİLER

#### 2.1. Müşteri Yönetimi (`musteriler.php`)
- **Amaç:** Müşteri kayıtlarını yönetir (ekleme, silme, düzenleme).
- **İşlevler:**
  - **Yeni Müşteri Ekle:** Yeni bir müşteri kaydı oluşturur.
  - **Sisteme Giriş Yetkisi:** Müşterinin `customer_login.php` üzerinden sisteme giriş yapıp yapamayacağı bu ekrandan belirlenir ve bir şifre atanır.
  - **Düzenle/Sil:** Mevcut müşteri kayıtlarını günceller veya siler.

#### 2.2. Personel Yönetimi (`personeller.php`)
- **Amaç:** Şirket personellerinin kayıtlarını yönetir.
- **İşlevler:**
  - **Yeni Personel Ekle:** Yeni personel kaydı oluşturur.
  - **Düzenle/Sil:** Mevcut personel kayıtlarını günceller veya siler.
  - **Güvenlik:** "Admin User" isimli ana yönetici kullanıcısı, güvenlik amacıyla bu ekrandan silinemez veya düzenlenemez.

#### 2.3. Tedarikçi Yönetimi (`tedarikciler.php`)
- **Amaç:** Malzeme veya hizmet alınan tedarikçilerin kayıtlarını yönetir.
- **İşlevler:**
  - **Yeni Tedarikçi Ekle:** Yeni tedarikçi kaydı oluşturur.
  - **Düzenle/Sil:** Mevcut tedarikçi kayıtlarını günceller veya siler.

---

### 3. ÜRÜN VE MALZEME YÖNETİMİ

Bu kategori, üretimin temelini oluşturan tüm envanter kalemlerini yönetir.

#### 3.1. Ürünler (`urunler.php`)
- **Amaç:** Satışa hazır bitmiş ürünlerin (parfüm vb.) yönetildiği ekrandır.
- **İşlevler:**
  - **Yeni Ürün Ekle/Düzenle/Sil:** Bitmiş ürün kayıtlarını yönetir.
  - **Stok ve Konum:** Ürünlerin stok miktarını, kritik stok seviyesini ve fiziksel konumunu (Depo/Raf) belirler.
  - **Dinamik Konum:** Formdaki "Depo" seçimine göre ilgili "Raf" seçenekleri otomatik olarak yüklenir.

#### 3.2. Esanslar (`esanslar.php`)
- **Amaç:** Üretimin yarı mamulü olan esansların yönetildiği ekrandır.
- **Teknoloji:** Modern ve hızlı bir arayüz için Vue.js ile geliştirilmiştir.
- **İşlevler:**
  - **Yeni Esans Ekle/Düzenle/Sil:** Esans kayıtlarını yönetir.
  - **Tank Entegrasyonu:** Her esans, saklandığı bir tanka atanır. Formdaki tank listesi "Tank Yönetimi" modülünden gelir.
  - **Benzersiz Kod:** Sistem, aynı "Esans Kodu" ile mükerrer kayıt oluşturulmasını engeller.

#### 3.3. Malzemeler (`malzemeler.php`)
- **Amaç:** Üretimde kullanılan şişe, kapak, kutu gibi tüm hammadde ve ambalaj malzemelerini yönetir.
- **İşlevler:**
  - **Yeni Malzeme Ekle/Düzenle/Sil:** Malzeme kayıtlarını yönetir.
  - **Stok ve Konum:** Tıpkı ürünler gibi, malzemelerin de stok miktarı, kritik seviyesi ve fiziksel konumu (Depo/Raf) burada yönetilir.

#### 3.4. Ürün Ağaçları (`urun_agaclari.php`)
- **Amaç:** Sistemin en kritik modüllerinden biridir. Bir ürünün veya esansın "reçetesini" (Bill of Materials - BOM) tanımlar.
- **Teknoloji:** Vue.js ile geliştirilmiştir.
- **İşlevler:**
  - **Çift Sekmeli Yapı:**
    1. **Ürün Ağacı Sekmesi:** Bir bitmiş ürünün hangi esans ve malzemelerden ne miktarda oluştuğunu tanımlar.
    2. **Esans Ağacı Sekmesi:** Bir esansın hangi hammaddelerden oluştuğunu tanımlar. Sistem, bir esansın başka bir esansı içeremeyeceği iş kuralını zorunlu kılar.
  - **Entegrasyon:** Bu modül, reçete oluşturmak için `urunler`, `esanslar` ve `malzemeler` modüllerinden anlık veri çeker.

---

### 4. OPERASYONEL İŞLEMLER

Bu kategori, şirketin günlük operasyonlarını ve bunlara bağlı stok hareketlerini yönetir.

#### 4.1. Müşteri Siparişleri (`musteri_siparisleri.php`)
- **Amaç:** Personelin, müşterilerden gelen siparişleri yönettiği ana ekrandır.
- **İş Akışı ve Stok Entegrasyonu:**
  - Siparişler "Beklemede" -> "Onaylandı" -> "Tamamlandı" veya "İptal Edildi" durumları arasında ilerler.
  - Bir sipariş **"Tamamlandı"** olarak işaretlendiğinde, siparişteki ürünler **otomatik olarak stoktan düşülür** ve bir stok çıkış kaydı oluşturulur.
  - Tamamlanmış bir sipariş, "Geri Al" butonu ile tekrar "Onaylandı" durumuna çekilirse, stoklar **otomatik olarak iade edilir**.
- **Müşteri Tarafı (API):** Müşterilerin kendi panellerinden siparişlerini görmelerini, takip etmelerini ve sadece "beklemede" olan siparişlerini iptal etmelerini sağlayan bir API altyapısı bulunur.

#### 4.2. Esans İş Emirleri (`esans_is_emirleri.php`)
- **Amaç:** Esans üretimi için iş emirleri oluşturur ve tüm üretim sürecini yönetir.
- **İş Akışı ve Stok Entegrasyonu:**
  - **Başlat:** İş emri başlatıldığında, reçetede belirtilen hammaddeler **otomatik olarak stoktan düşülür**.
  - **Tamamla:** İş emri tamamlandığında, üretilen esans miktarı **otomatik olarak esans stoğuna eklenir**.
  - **Geri Al:** Tüm işlemler geri alınabilir ve yapılan stok hareketleri otomatik olarak tersine çevrilir. Tüm bu adımlar veritabanı bütünlüğünü koruyan "transaction" yapıları içinde gerçekleşir.
  - **PDF Çıktı:** Her iş emri için detaylı bir PDF raporu alınabilir.

#### 4.3. Montaj İş Emirleri (`montaj_is_emirleri.php`)
- **Amaç:** Bitmiş ürün montajı için iş emirleri oluşturur. Üretimin son aşamasıdır.
- **İş Akışı ve Stok Entegrasyonu:**
  - **Başlat:** İş emri başlatıldığında, ürün reçetesinde belirtilen **esanslar ve malzemeler** ilgili stoklardan **otomatik olarak düşülür**.
  - **Tamamla:** İş emri tamamlandığında, üretilen **bitmiş ürün**, `urunler` tablosundaki **stoğa otomatik olarak eklenir**.
  - **Geri Al:** Tıpkı esans iş emirlerinde olduğu gibi, tüm stok hareketleri geri alınabilir.

#### 4.4. Giriş Kalite Kontrolü (`giris_kalite_kontrolu.php`)
- **Amaç:** Tedarikçiden gelen malzemelerdeki kalite sorunlarını (kırık, eksik, bozuk vb.) kaydetmek için kullanılır.
- **İşleyiş:** Bu modül bir **bilgi kayıt ekranıdır**. Buraya girilen bir kayıt, stokları **etkilemez**. Sadece hangi tedarikçinin hangi malzemesinde ne kadar sorun yaşandığını loglar.

#### 4.5. Manuel Stok Hareketleri (`manuel_stok_hareket.php`)
- **Amaç:** Otomatik iş akışları dışında kalan tüm envanter işlemlerinin yapıldığı ve izlendiği merkezi modüldür.
- **İşlevler:**
  - **Hareket Listesi:** Sistemdeki tüm stok giriş/çıkış hareketlerinin denetim kaydını gösterir.
  - **Mal Kabul:** Tedarikçiden gelen malzemelerin stoğa alınmasını sağlar.
  - **Sayım Fazlası / Eksiği:** Fiziksel sayım sonrası ortaya çıkan farkları stoğa işler.
  - **Fire:** Bozulan, kırılan ürünlerin stoktan düşülmesini sağlar.
  - **Stok Transferi:** Ürün/malzemelerin bir depodan/raftan diğerine transfer edilmesini sağlar.
  - **Geri Alınabilirlik:** Bu ekrandan yapılan bir manuel hareket silindiğinde, stok üzerindeki etkisi otomatik olarak geri alınır.

---

### 5. SİSTEM ALTYAPISI

Bu kategori, diğer modüllerin kullandığı temel verileri tanımlar.

#### 5.1. Lokasyonlar (`lokasyonlar.php`)
- **Amaç:** Depo ve raf gibi fiziksel saklama konumlarını tanımlar.
- **Entegrasyon:** Ürünler ve Malzemeler modüllerindeki konum seçimi alanlarını besler.

#### 5.2. Tanklar (`tanklar.php`)
- **Amaç:** Esansların saklandığı ve demlendiği tankları tanımlar.
- **Entegrasyon:** Esanslar ve Esans İş Emirleri modüllerindeki tank seçimi alanlarını besler.

#### 5.3. İş Merkezleri (`is_merkezleri.php`)
- **Amaç:** Montaj alanı gibi üretim faaliyetlerinin yapıldığı yerleri tanımlar.
- **Entegrasyon:** Montaj İş Emirleri modülündeki "Montaj Alanı" seçimini besler.

---

### 6. FİNANS VE RAPORLAMA

#### 6.1. Gider Yönetimi (`gider_yonetimi.php`)
- **Amaç:** Maaş, kira, fatura gibi şirket giderlerinin kaydedildiği basit bir muhasebe defteridir.
- **İşleyiş:** Stoklarla bir bağlantısı yoktur, tamamen finansal kayıt amaçlıdır.

#### 6.2. Çerçeve Sözleşmeler (`cerceve_sozlesmeler.php`)
- **Amaç:** Tedarikçilerle yapılan uzun dönemli malzeme alım anlaşmalarını yönetir.
- **İşleyiş:** Bir malzeme için anlaşılan fiyat, miktar limiti ve peşin ödenen miktar gibi bilgileri kaydeder.
- **Entegrasyon:** "Mal Kabul" işlemi sırasında, ilgili malzeme için sadece anlaşmalı tedarikçilerin listelenmesini sağlar.

---

### 7. SİSTEM AYARLARI

#### 7.1. Şifre Değiştir (`change_password.php`)
- **Amaç:** Tüm kullanıcıların (personel ve müşteri) kendi şifrelerini güvenli bir şekilde değiştirmesini sağlar.
- **Güvenlik:** Şifreler, modern ve güvenli `password_hash` ve `password_verify` yöntemleriyle yönetilir. Asla düz metin olarak saklanmaz.

---
**SON**
